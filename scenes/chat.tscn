[gd_scene load_steps=37 format=3 uid="uid://bstnmruoashay"]

[ext_resource type="Script" path="res://scenes/chat.gd" id="1_yspck"]
[ext_resource type="Script" path="res://scenes/user_prompt.gd" id="2_lse07"]
[ext_resource type="Texture2D" uid="uid://7ympmf8u77u0" path="res://sprites/Untitled64_20240516114802.png" id="2_nty2j"]
[ext_resource type="Script" path="res://scenes/send_button.gd" id="3_mbnij"]
[ext_resource type="Script" path="res://scenes/conversation_container.gd" id="4_5r13d"]
[ext_resource type="Script" path="res://addons/HTTPSSEClient/HTTPSSEClient_modified.gd" id="5_r7tt6"]
[ext_resource type="FontFile" uid="uid://dv4rnn0ml62q3" path="res://addons/dialogue_nodes/themes/Poppins-Bold.ttf" id="6_i1b47"]
[ext_resource type="PackedScene" uid="uid://c43fwhvdko2se" path="res://scenes/godot-elevenlabs-tts/ElevenLabsTTS.tscn" id="6_y77mm"]
[ext_resource type="Script" path="res://scenes/godot-elevenlabs-tts/ElevenLabsTTS_modified.gd" id="7_xhtff"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_st1ly"]
content_margin_left = 5.0
bg_color = Color(0, 0, 0, 0.501961)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_nldgk"]
content_margin_left = 5.0
bg_color = Color(0, 0, 0, 0.501961)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_qvjtt"]
content_margin_left = 5.0
bg_color = Color(0, 0, 0, 0.501961)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
corner_radius_top_left = 15
corner_radius_top_right = 15
corner_radius_bottom_right = 15
corner_radius_bottom_left = 15

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_t1f43"]
draw_center = false
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0, 0, 0, 1)
corner_radius_top_left = 25
corner_radius_top_right = 25
corner_radius_bottom_right = 25
corner_radius_bottom_left = 5

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_cmr4s"]
draw_center = false
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0.129412, 0.698039, 1, 1)
corner_radius_top_left = 25
corner_radius_top_right = 25
corner_radius_bottom_right = 25
corner_radius_bottom_left = 5

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_lfvuh"]
draw_center = false
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0, 0.8, 0.8, 1)
corner_radius_top_left = 25
corner_radius_top_right = 25
corner_radius_bottom_right = 25
corner_radius_bottom_left = 5

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_45a8y"]
draw_center = false
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0, 0.8, 0.8, 1)
corner_radius_top_left = 25
corner_radius_top_right = 25
corner_radius_bottom_right = 25
corner_radius_bottom_left = 5

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_gx45p"]
draw_center = false
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0, 0.8, 0.8, 1)
corner_radius_top_left = 25
corner_radius_top_right = 25
corner_radius_bottom_right = 25
corner_radius_bottom_left = 5

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ny5ai"]
content_margin_left = 5.0
content_margin_top = 5.0
content_margin_right = 5.0
content_margin_bottom = 5.0
bg_color = Color(0, 0, 0, 0.584314)
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(1, 1, 1, 1)
corner_radius_top_left = 25
corner_radius_top_right = 25
corner_radius_bottom_right = 25
corner_radius_bottom_left = 5

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_tnyup"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_m2nop"]
bg_color = Color(0, 0, 0, 1)
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_n5mod"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_jnexr"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ieq6p"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_xr4no"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_llhor"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_np8ss"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_k7axx"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_vq5f5"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_lwdoy"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_exng3"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_uj5kw"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_iahkb"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_fng8p"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_cponl"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_7bx8p"]
draw_center = false

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_yfaps"]
draw_center = false

[node name="chat" type="Node2D"]
position = Vector2(1662, 279)
script = ExtResource("1_yspck")

[node name="bg" type="TextureRect" parent="."]
offset_left = -2035.0
offset_top = -680.0
offset_right = 1098.0
offset_bottom = 1254.0
texture = ExtResource("2_nty2j")
expand_mode = 1

[node name="ChatWindow" type="Control" parent="."]
clip_contents = true
layout_mode = 3
anchors_preset = 0
offset_left = -316.0
offset_top = -278.0
offset_right = 909.0
offset_bottom = 1011.0

[node name="UserPrompt" type="TextEdit" parent="ChatWindow"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 114.0
offset_top = 1106.0
offset_right = -249.0
offset_bottom = -60.0
grow_horizontal = 2
grow_vertical = 2
theme_override_font_sizes/font_size = 40
theme_override_styles/normal = SubResource("StyleBoxFlat_st1ly")
theme_override_styles/focus = SubResource("StyleBoxFlat_nldgk")
theme_override_styles/read_only = SubResource("StyleBoxFlat_qvjtt")
placeholder_text = "Type..."
scroll_smooth = true
caret_blink = true
caret_blink_interval = 5.0
caret_draw_when_editable_disabled = true
script = ExtResource("2_lse07")

[node name="SendButton" type="Button" parent="ChatWindow"]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 989.0
offset_top = 1102.0
offset_right = -105.0
offset_bottom = -68.0
mouse_default_cursor_shape = 2
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_colors/font_pressed_color = Color(0, 0.8, 0.8, 1)
theme_override_colors/font_hover_color = Color(0.129412, 0.698039, 1, 1)
theme_override_colors/font_focus_color = Color(0, 0, 0, 1)
theme_override_colors/font_hover_pressed_color = Color(0, 0, 0, 1)
theme_override_colors/font_disabled_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_colors/icon_normal_color = Color(0, 0, 0, 1)
theme_override_colors/icon_pressed_color = Color(0, 0, 0, 1)
theme_override_colors/icon_hover_color = Color(0, 0, 0, 1)
theme_override_colors/icon_hover_pressed_color = Color(0, 0, 0, 1)
theme_override_colors/icon_focus_color = Color(0, 0, 0, 1)
theme_override_colors/icon_disabled_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 40
theme_override_styles/normal = SubResource("StyleBoxFlat_t1f43")
theme_override_styles/hover = SubResource("StyleBoxFlat_cmr4s")
theme_override_styles/pressed = SubResource("StyleBoxFlat_lfvuh")
theme_override_styles/disabled = SubResource("StyleBoxFlat_45a8y")
theme_override_styles/focus = SubResource("StyleBoxFlat_gx45p")
text = "âž¤"
script = ExtResource("3_mbnij")

[node name="ConversationContainer" type="ScrollContainer" parent="ChatWindow"]
layout_mode = 1
anchors_preset = -1
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 74.0
offset_top = 125.0
offset_right = -92.0
offset_bottom = -222.0
theme_override_styles/panel = SubResource("StyleBoxFlat_ny5ai")
script = ExtResource("4_5r13d")

[node name="Conversation" type="VBoxContainer" parent="ChatWindow/ConversationContainer"]
clip_contents = true
layout_mode = 2
size_flags_horizontal = 3
theme_override_constants/separation = 5

[node name="VoiceAISystemSelector" type="OptionButton" parent="ChatWindow"]
layout_mode = 0
offset_left = 126.0
offset_top = 59.0
offset_right = 404.0
offset_bottom = 115.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_colors/font_pressed_color = Color(0, 0, 0, 1)
theme_override_colors/font_hover_color = Color(0, 0, 0, 1)
theme_override_colors/font_hover_pressed_color = Color(0, 0, 0, 1)
theme_override_colors/font_focus_color = Color(0, 0, 0, 1)
theme_override_colors/font_disabled_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_fonts/font = ExtResource("6_i1b47")
theme_override_font_sizes/font_size = 40
theme_override_styles/focus = SubResource("StyleBoxFlat_tnyup")
theme_override_styles/normal = SubResource("StyleBoxFlat_m2nop")
theme_override_styles/hover = SubResource("StyleBoxFlat_n5mod")
theme_override_styles/pressed = SubResource("StyleBoxFlat_jnexr")
theme_override_styles/disabled = SubResource("StyleBoxFlat_ieq6p")
theme_override_styles/normal_mirrored = SubResource("StyleBoxFlat_xr4no")
theme_override_styles/hover_mirrored = SubResource("StyleBoxFlat_llhor")
theme_override_styles/pressed_mirrored = SubResource("StyleBoxFlat_np8ss")
theme_override_styles/disabled_mirrored = SubResource("StyleBoxFlat_k7axx")
item_count = 3
selected = 1
popup/item_0/text = "No AI speech"
popup/item_0/id = 0
popup/item_1/text = "OS TTS"
popup/item_1/id = 1
popup/item_2/text = "ElevenLabs"
popup/item_2/id = 2

[node name="VoiceSelector" type="OptionButton" parent="ChatWindow"]
layout_mode = 0
offset_left = 439.0
offset_top = 51.0
offset_right = 815.0
offset_bottom = 111.0
theme_override_colors/font_color = Color(0, 0, 0, 1)
theme_override_colors/font_pressed_color = Color(0, 0, 0, 1)
theme_override_colors/font_hover_color = Color(0, 0, 0, 1)
theme_override_colors/font_hover_pressed_color = Color(0, 0, 0, 1)
theme_override_colors/font_focus_color = Color(0, 0, 0, 1)
theme_override_colors/font_disabled_color = Color(0, 0, 0, 1)
theme_override_colors/font_outline_color = Color(0, 0, 0, 1)
theme_override_font_sizes/font_size = 40
theme_override_styles/focus = SubResource("StyleBoxFlat_vq5f5")
theme_override_styles/normal = SubResource("StyleBoxFlat_lwdoy")
theme_override_styles/hover = SubResource("StyleBoxFlat_exng3")
theme_override_styles/pressed = SubResource("StyleBoxFlat_uj5kw")
theme_override_styles/disabled = SubResource("StyleBoxFlat_iahkb")
theme_override_styles/normal_mirrored = SubResource("StyleBoxFlat_fng8p")
theme_override_styles/hover_mirrored = SubResource("StyleBoxFlat_cponl")
theme_override_styles/pressed_mirrored = SubResource("StyleBoxFlat_7bx8p")
theme_override_styles/disabled_mirrored = SubResource("StyleBoxFlat_yfaps")

[node name="HTTPSSEClient" type="Node" parent="."]
script = ExtResource("5_r7tt6")

[node name="ElevenLabsTTS" parent="." instance=ExtResource("6_y77mm")]
script = ExtResource("7_xhtff")

[connection signal="to_chat" from="ChatWindow/UserPrompt" to="." method="_on_user_prompt_to_chat"]
[connection signal="to_chat" from="ChatWindow/SendButton" to="." method="_on_user_prompt_to_chat"]
[connection signal="item_selected" from="ChatWindow/VoiceAISystemSelector" to="." method="_on_voice_ai_system_selector_item_selected"]
[connection signal="item_selected" from="ChatWindow/VoiceSelector" to="." method="_on_voice_selector_item_selected"]
[connection signal="ElevenLabs_voices_fetched" from="ElevenLabsTTS" to="." method="_on_eleven_labs_tts_eleven_labs_voices_fetched"]
